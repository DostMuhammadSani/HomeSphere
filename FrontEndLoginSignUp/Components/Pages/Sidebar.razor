
@* Sidebar.razor *@
@using Blazored.SessionStorage
@inject ISessionStorageService SessionStorage
@rendermode InteractiveServer
@inject NavigationManager Navigation
@inject UserService UserService
<div class="col-md-2 bg-primary text-light p-3" style="min-height: 100vh;">
            <!-- Profile Section -->
            <div class="d-flex align-items-center mb-4">
             
                <div class="ml-3">
                    <h6 class="mb-0">@UserService.Username</h6>
                    <small class="text-success">● Online</small>
                </div>
            </div>
            <!-- Menu Items -->
            <nav class="nav flex-column">
                <span class="text-uppercase text-light mb-2">General</span>
 
                <a class="nav-link text-light d-flex align-items-center" href="/dashboard">
                    <i class="fas fa-th-large mr-2"></i> Dashboard
                </a>
                <a class="nav-link text-light d-flex align-items-center" href="/residents">
                    <i class="fas fa-th-large mr-2"></i> Residents
                </a>
                <a class="nav-link text-light d-flex align-items-center" href="/plot">
                    <i class="fas fa-diamond mr-2"></i> Plots
                </a>
                <a class="nav-link text-light d-flex align-items-center" href="/ownship">
                    <i class="fas fa-table mr-2"></i> Ownship
                </a>
               
                <div class="nav-item px-3 mt-4">
            <button class="btn btn-danger w-100" @onclick="Logout">
                <span class="bi bi-box-arrow-right" aria-hidden="true"></span> Logout
            </button>
        </div>
            </nav>
        </div>

<style>
    .bg-primary {
        background-color: #2c3e50 !important;
        background-image: url('sidebar.jpg'); /* Add your pattern image here */
    }
    .nav-link {
        padding: 10px;
        transition: background-color 0.3s ease;
    }
    .nav-link:hover {
        background-color: #34495e;
    }
    .nav-link.active {
        background-color: #1abc9c;
        font-weight: bold;
    }
    .ml-3 {
        margin-left: 1rem;
    }
</style>
@code {
    string user;
    protected override void OnInitialized()
    {
        user = UserService.Username;
        base.OnInitialized();
    }
    private async Task Logout()
    {
        // Clear session storage
        await SessionStorage.ClearAsync();

        // Redirect to login page
        Navigation.NavigateTo("/login");
    }
}